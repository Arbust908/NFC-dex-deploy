var E=Object.defineProperty;var h=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var k=(r,o,n)=>o in r?E(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))V.call(o,n)&&k(r,n,o[n]);if(h)for(var n of h(o))j.call(o,n)&&k(r,n,o[n]);return r};import{d as D,r as v,j as O,e as m,o as f,b as w,h as i,t as N,m as J,g as c,w as p,F as P,z as L,v as A,x as I,B as U,p as b}from"./vendor.5e53ca0f.js";import{_ as M}from"./app.b20dc015.js";const W=r=>(A("data-v-14c24ef0"),r=r(),I(),r),z={class:"max-w-4xl mx-auto"},G=W(()=>i("p",{class:"text-4xl mb-8"},[i("strong",{class:"font-bold"},"NFC"),i("span",{class:"text-2xl"},"Dex")],-1)),K={key:0,class:"flex justify-center items-center gap-4 flex-wrap"},Y={key:1},q={class:"text-sm opacity-75"},H={class:"m-4"},Q=U('<div class="i-ph-anchor-simple-thin" data-v-14c24ef0></div><div class="i-mdi-alarm text-orange-400" data-v-14c24ef0></div><div class="i-logos-vue text-3xl" data-v-14c24ef0></div><button class="i-carbon-sun dark:i-carbon-moon" data-v-14c24ef0></button><div class="i-twemoji-grinning-face-with-smiling-eyes hover:i-twemoji-face-with-tears-of-joy" data-v-14c24ef0></div>',5),X=b(" Config "),Z=b(" Role "),ee=b(" Task "),ae=D({setup(r){const o=v("first"),n=v({trainer:{},party:[],money:0,badges:[],bag:[]}),C=["Ace Trainer","Backpacker","Beauty","Biker","Bird Keeper","Black Belt","Breeder","Bug Catcher","Burglar","Channeler","Chef","Dragon Tamer","Fisherman","Gambler","Juggler","Lass","Youngster","Musician","Pokefan","Pokemaniac","Psychic","Sage","Scientist","Surfer","Custom"],g=v({id:0,name:"Pancho",img:"https://archives.bulbagarden.net/media/upload/thumb/b/b5/VSAlder.png/120px-VSAlder.png",class:null,stats:{body:{health:1,brawn:1,swiftness:1,defence:1},mind:{sense:1,wisdom:1,smarts:1,nerve:1},soul:{charm:1,confidence:1,intuition:1,luck:1}}}),y=v(!0),e=v("");typeof window!="undefined"&&window&&"NDEFReader"in window&&(y.value=!0,console.log(window.NDEFReader));const u=t=>new Promise(a=>setTimeout(a,t)),R=async()=>{e.value="Preparing to write";try{const t=new NDEFReader,a=new TextEncoder;e.value=n.value,await u(2500),e.value=JSON.stringify({dex:n.value}),await u(2500);const s=[{recordType:"mime",mediaType:"application/json",data:a.encode(JSON.stringify({name:pokemons[0].name,id:pokemons[0].id,img:pokemons[0].img,type:pokemons[0].type}))}];e.value=s,await u(2500),await t.write({records:s},{overwrite:!0}),e.value=`Wrote -${s}`}catch(t){e.value=`ERROR:::${t}`}},S=async()=>{e.value="Preparing to write";try{const t=new NDEFReader,a=new TextEncoder;e.value=n.value,await u(2500),e.value=JSON.stringify(_({},n.value)),await u(2500);const s=[{recordType:"mime",mediaType:"application/json",data:a.encode(JSON.stringify(_({},n.value)))}];e.value=s,await u(2500),await t.write({records:s},{overwrite:!0}),e.value=`Wrote -${JSON.stringify(s)}`}catch(t){e.value=`ERROR:::${t}`}},T=async()=>{try{const t=new NDEFReader;await t.scan(),e.value="Scaning...",t.addEventListener("reading",({message:a,serialNumber:s})=>{e.value=`${s}: ${JSON.stringify(a.records,null,2)}`})}catch(t){e.value=`Error! Scan failed to start: ${t}.`}},F=async()=>{const t=new TextDecoder;e.value="Scaning...";const a=new NDEFReader;await a.scan(),a.addEventListener("reading",({message:s,serialNumber:x})=>{for(const l of s.records)switch(e.value="--------",e.value+=l.recordType,e.value+=`
      -
      `,l.recordType){case"text":e.value+=`Text: ${t.decode(l.data)} (${l.lang})`;break;case"url":e.value+=`URL: ${t.decode(l.data)}`;break;case"mime":l.mediaType==="application/json"?e.value+=`JSON: ${t.decode(l.data)}`:e.value+="Media not handled";break;default:e.value+="Record not handled"}})},{t:$}=O();return(t,a)=>{const s=m("el-option"),x=m("el-select"),l=m("el-tab-pane"),B=m("el-tabs");return f(),w("main",null,[i("div",z,[G,y.value?(f(),w("div",K,[i("button",{class:"rounded border px-6 py-2",onClick:a[0]||(a[0]=d=>S())}," Write "),i("button",{class:"rounded border px-6 py-2",onClick:a[1]||(a[1]=d=>R())}," Buba! "),i("button",{class:"rounded border px-6 py-2",onClick:a[2]||(a[2]=d=>T())}," Read "),i("button",{class:"rounded border px-6 py-2",onClick:a[3]||(a[3]=d=>F())}," Read All ")])):(f(),w("div",Y,[i("em",q,N(J($)("no-nfc")),1)])),i("div",H,N(e.value),1),Q,c(B,{modelValue:o.value,"onUpdate:modelValue":a[5]||(a[5]=d=>o.value=d),onTabClick:t.handleClick},{default:p(()=>[c(l,{label:"Trainer",name:"first"},{default:p(()=>[c(x,{modelValue:g.value.class,"onUpdate:modelValue":a[4]||(a[4]=d=>g.value.class=d),filterable:"",placeholder:"Select"},{default:p(()=>[(f(),w(P,null,L(C,d=>c(s,{key:d,label:d,value:d},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),c(l,{label:"Config",name:"second"},{default:p(()=>[X]),_:1}),c(l,{label:"Role",name:"third"},{default:p(()=>[Z]),_:1}),c(l,{label:"Task",name:"fourth"},{default:p(()=>[ee]),_:1})]),_:1},8,["modelValue","onTabClick"])])])}}});var se=M(ae,[["__scopeId","data-v-14c24ef0"]]);export{se as default};
